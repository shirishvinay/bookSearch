{"ast":null,"code":"import _defineProperty from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vinay/Documents/HW/books/googleBookSearch/client/src/pages/Books.js\";\nimport React, { Component } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport Container from \"../components/Container\";\nimport Row from \"../components/Row\";\nimport Col from \"../components/Col\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport BookDetail from \"../components/BookDetail\";\nimport API from \"../utils/API\";\n\nvar Books =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Books, _Component);\n\n  function Books() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Books);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Books)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      books: [],\n      search: \"\"\n    };\n\n    _this.searchBooks = function (query) {\n      API.searchBooks(query).then(function (res) {\n        return _this.setState({\n          books: res.data.items,\n          search: \"\"\n        }, console.log(res.data.items));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n      var name = event.target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      _this.searchBooks(_this.state.search);\n    };\n\n    _this.deleteBook = function (id) {\n      API.deleteBook(id).then(function (res) {\n        return console.log(res.status);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleSaveBook = function (bookData) {\n      API.saveBook(bookData).then(function (res) {\n        return alert(\"Book Saved!\");\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Books, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Card, {\n        heading: \"Google Books Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(SearchForm, {\n        value: this.state.search,\n        handleInputChange: this.handleInputChange,\n        handleFormSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.state.books.length ? React.createElement(Card, {\n        heading: \"Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.state.books.map(function (book) {\n        return React.createElement(BookDetail, {\n          key: book.id,\n          src: book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\",\n          title: book.volumeInfo.title,\n          authors: book.volumeInfo.authors ? book.volumeInfo.authors.join(\", \") : \"N/A\",\n          date: book.volumeInfo.publishedDate,\n          description: book.volumeInfo.description,\n          link: book.volumeInfo.infoLink,\n          handleSaveBook: function handleSaveBook() {\n            return _this2.handleSaveBook({\n              title: book.volumeInfo.title,\n              src: book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\",\n              authors: book.volumeInfo.authors,\n              date: book.volumeInfo.publishedDate,\n              description: book.volumeInfo.description,\n              link: book.volumeInfo.infoLink\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        });\n      })) : React.createElement(Card, {\n        heading: \"Search Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Books;\n}(Component);\n\nexport default Books;","map":{"version":3,"sources":["/Users/vinay/Documents/HW/books/googleBookSearch/client/src/pages/Books.js"],"names":["React","Component","Jumbotron","Container","Row","Col","Card","SearchForm","BookDetail","API","Books","state","books","search","searchBooks","query","then","res","setState","data","items","console","log","catch","err","handleInputChange","event","value","target","name","handleFormSubmit","preventDefault","deleteBook","id","status","handleSaveBook","bookData","saveBook","alert","length","map","book","volumeInfo","imageLinks","thumbnail","title","authors","join","publishedDate","description","infoLink","src","date","link"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport Container from \"../components/Container\";\nimport Row from \"../components/Row\";\nimport Col from \"../components/Col\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport BookDetail from \"../components/BookDetail\";\nimport API from \"../utils/API\";\n\nclass Books extends Component {\n  state = {\n    books: [],\n    search: \"\"\n  };\n\n  // searches the GoogleBooks API storing the data in books array\n  searchBooks = query => {\n    API.searchBooks(query)\n      .then(res =>\n        this.setState(\n          {\n            books: res.data.items,\n            search: \"\"\n          },\n          console.log(res.data.items)\n        )\n      )\n      .catch(err => console.log(err));\n  };\n\n  handleInputChange = event => {\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  // once the search term is submitted, search the GoogleBooks API for the value of `this.state.search`\n  handleFormSubmit = event => {\n    event.preventDefault();\n    this.searchBooks(this.state.search);\n  };\n\n  // deletes book from database\n  deleteBook = id => {\n    API.deleteBook(id)\n      .then(res => console.log(res.status))\n      .catch(err => console.log(err));\n  };\n\n  // saves book to database\n  handleSaveBook = bookData => {\n    API.saveBook(bookData)\n      .then(res => alert(\"Book Saved!\"))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    return (\n      <Container>\n        <Row>\n          <Col size=\"md-12\">\n            <Jumbotron />\n          </Col>\n        </Row>\n        <Row>\n          <Col size=\"md-12\">\n            <Card heading=\"Google Books Search\">\n              <SearchForm\n                value={this.state.search}\n                handleInputChange={this.handleInputChange}\n                handleFormSubmit={this.handleFormSubmit}\n              />\n            </Card>\n          </Col>\n        </Row>\n        <Row>\n          <Col size=\"md-12\">\n            {this.state.books.length ? (\n              <Card heading=\"Results\">\n                {this.state.books.map(book => (\n                  <BookDetail\n                    key={book.id}\n                    src={book.volumeInfo.imageLinks \n                      ? book.volumeInfo.imageLinks.thumbnail\n                      : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\"}\n                    title={book.volumeInfo.title}\n                    authors={book.volumeInfo.authors\n                      ? book.volumeInfo.authors.join(\", \")\n                      : \"N/A\"}\n                    date={book.volumeInfo.publishedDate}\n                    description={book.volumeInfo.description}\n                    link={book.volumeInfo.infoLink}\n                    handleSaveBook={() => this.handleSaveBook({ \n                      title: book.volumeInfo.title,\n                      src: book.volumeInfo.imageLinks \n                        ? book.volumeInfo.imageLinks.thumbnail \n                        : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\",\n                      authors: book.volumeInfo.authors,\n                      date: book.volumeInfo.publishedDate,\n                      description: book.volumeInfo.description,\n                      link: book.volumeInfo.infoLink})}\n                  />\n                ))}\n              </Card>\n            ) : (\n              <Card heading=\"Search Results\"></Card>\n            )}\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Books;\n"]},"metadata":{},"sourceType":"module"}