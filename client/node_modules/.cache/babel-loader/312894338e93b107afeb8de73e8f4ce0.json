{"ast":null,"code":"import _classCallCheck from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vinay/Documents/HW/books/googleBookSearch/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vinay/Documents/HW/books/googleBookSearch/client/src/pages/SavedBooks.js\";\nimport React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport Row from \"../components/Row\";\nimport Col from \"../components/Col\";\nimport Card from \"../components/Card\";\nimport SavedBookDetail from \"../components/SavedBookDetail\";\nimport API from \"../utils/API\";\n\nvar SavedBooks =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SavedBooks, _Component);\n\n  function SavedBooks() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SavedBooks);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SavedBooks)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      books: []\n    };\n\n    _this.loadBooks = function () {\n      API.getBooks().then(function (res) {\n        return _this.setState({\n          books: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleDeleteBook = function (id) {\n      API.deleteBook(id).then(function (res) {\n        return _this.loadBooks();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SavedBooks, [{\n    key: \"componentDidMount\",\n    // grab the books from /api/books\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      API.getBooks().then(function (res) {\n        return _this2.setState({\n          books: res.data\n        }, console.log(res.data));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    } // loads all books\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.state.books.length ? React.createElement(Card, {\n        heading: \"Saved Books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, this.state.books.map(function (book) {\n        return React.createElement(SavedBookDetail, {\n          key: book._id,\n          src: book ? book.src : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\",\n          title: book.title,\n          authors: book.authors.join(\", \"),\n          date: book.date,\n          description: book.description,\n          link: book.link,\n          handleDeleteBook: function handleDeleteBook() {\n            return _this3.handleDeleteBook(book._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        });\n      })) : React.createElement(Card, {\n        heading: \"Saved Books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SavedBooks;\n}(Component);\n\nexport default SavedBooks;","map":{"version":3,"sources":["/Users/vinay/Documents/HW/books/googleBookSearch/client/src/pages/SavedBooks.js"],"names":["React","Component","Container","Row","Col","Card","SavedBookDetail","API","SavedBooks","state","books","loadBooks","getBooks","then","res","setState","data","catch","err","console","log","handleDeleteBook","id","deleteBook","length","map","book","_id","src","title","authors","join","date","description","link"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,OAAOC,GAAP,MAAgB,cAAhB;;IAEMC,U;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,KAAK,EAAE;AADD,K;;UAkBRC,S,GAAY,YAAM;AAChBJ,MAAAA,GAAG,CAACK,QAAJ,GACGC,IADH,CACQ,UAAAC,GAAG;AAAA,eACP,MAAKC,QAAL,CAAc;AAAEL,UAAAA,KAAK,EAAEI,GAAG,CAACE;AAAb,SAAd,CADO;AAAA,OADX,EAIGC,KAJH,CAIS,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OAJZ;AAKD,K;;UAGDG,gB,GAAmB,UAAAC,EAAE,EAAI;AACvBf,MAAAA,GAAG,CAACgB,UAAJ,CAAeD,EAAf,EACGT,IADH,CACQ,UAAAC,GAAG;AAAA,eAAI,MAAKH,SAAL,EAAJ;AAAA,OADX,EAEGM,KAFH,CAES,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OAFZ;AAGD,K;;;;;;;AA3BD;wCACoB;AAAA;;AAClBX,MAAAA,GAAG,CAACK,QAAJ,GACGC,IADH,CACQ,UAAAC,GAAG;AAAA,eAAI,MAAI,CAACC,QAAL,CACX;AACEL,UAAAA,KAAK,EAAEI,GAAG,CAACE;AADb,SADW,EAIXG,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACE,IAAhB,CAJW,CAAJ;AAAA,OADX,EAQGC,KARH,CAQS,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OARZ;AASD,K,CAED;;;;6BAgBS;AAAA;;AACP,aACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKT,KAAL,CAAWC,KAAX,CAAiBc,MAAjB,GACC,oBAAC,IAAD;AAAM,QAAA,OAAO,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKf,KAAL,CAAWC,KAAX,CAAiBe,GAAjB,CAAqB,UAAAC,IAAI;AAAA,eACxB,oBAAC,eAAD;AACE,UAAA,GAAG,EAAEA,IAAI,CAACC,GADZ;AAEE,UAAA,GAAG,EAAED,IAAI,GACLA,IAAI,CAACE,GADA,GAEL,4EAJN;AAKE,UAAA,KAAK,EAAEF,IAAI,CAACG,KALd;AAME,UAAA,OAAO,EAAEH,IAAI,CAACI,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CANX;AAOE,UAAA,IAAI,EAAEL,IAAI,CAACM,IAPb;AAQE,UAAA,WAAW,EAAEN,IAAI,CAACO,WARpB;AASE,UAAA,IAAI,EAAEP,IAAI,CAACQ,IATb;AAUE,UAAA,gBAAgB,EAAE;AAAA,mBAAM,MAAI,CAACb,gBAAL,CAAsBK,IAAI,CAACC,GAA3B,CAAN;AAAA,WAVpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADwB;AAAA,OAAzB,CADH,CADD,GAkBC,oBAAC,IAAD;AAAM,QAAA,OAAO,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnBJ,CADF,CADF,CADF;AA4BD;;;;EA/DsB1B,S;;AAkEzB,eAAeO,UAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport Row from \"../components/Row\";\nimport Col from \"../components/Col\";\nimport Card from \"../components/Card\";\nimport SavedBookDetail from \"../components/SavedBookDetail\";\nimport API from \"../utils/API\";\n\nclass SavedBooks extends Component {\n  state = {\n    books: []\n  };\n\n  // grab the books from /api/books\n  componentDidMount() {\n    API.getBooks()\n      .then(res => this.setState(\n        { \n          books: res.data \n        },\n        console.log(res.data)\n        )\n      )\n      .catch(err => console.log(err));\n  }\n\n  // loads all books\n  loadBooks = () => {\n    API.getBooks()\n      .then(res =>\n        this.setState({ books: res.data })\n      )\n      .catch(err => console.log(err));\n  };\n\n  // deletes a book\n  handleDeleteBook = id => {\n    API.deleteBook(id)\n      .then(res => this.loadBooks())\n      .catch(err => console.log(err));\n  }\n\n  render() {\n    return (\n      <Container>\n        <Row>\n          <Col size=\"md-12\">\n            {this.state.books.length ? (\n              <Card heading=\"Saved Books\">\n                {this.state.books.map(book => (\n                  <SavedBookDetail\n                    key={book._id}\n                    src={book \n                      ? book.src \n                      : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\"}\n                    title={book.title}\n                    authors={book.authors.join(\", \")}\n                    date={book.date}\n                    description={book.description}\n                    link={book.link}\n                    handleDeleteBook={() => this.handleDeleteBook(book._id)}\n                  />\n                ))}\n              </Card>\n            ) : (\n              <Card heading=\"Saved Books\"></Card>\n            )}\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default SavedBooks;\n"]},"metadata":{},"sourceType":"module"}